<button mat-button (click)="isLinear = true" id="toggle-linear">stepper без валидации</button>
<mat-card>
  <mat-card-content>
<p class="mat-body-1">Чтобы создать страницу акции на subbotnik.by, нужно указать информацию, которая
  будет интересна и важна для потенциальных волонтёров: что это за акция, когда и где она пройдёт,
  кто её организует, что нужно для участия в ней. Предлагаем внести все эти данные в 3 простых шага.
  Обязательные поля отмечены звёздочкой (*).</p>
  </mat-card-content>
</mat-card>
<br>
<div *ngIf="!preview && !correct">
  <mat-card>
    <mat-card-content>

      <mat-horizontal-stepper [linear]="isLinear">
        <mat-step [stepControl]="basicInfoFormGroup">
          <form [formGroup]="basicInfoFormGroup" (ngSubmit)="addBasicInfo(basicInfoFormGroup.value)">
            <ng-template matStepLabel>Основная информация</ng-template>
            <p>Как называется ваша акция?*</p>
            <div matTooltip='Например: Субботник в Осмоловке или Уборка левого берега р. Ислочь'
                 class="formwide-tooltip">
              <mat-form-field>
                <input matInput placeholder="Название акции" formControlName="eventName" autofocus>
              </mat-form-field>
            </div>

            <p class="mat-body-1">Где будет проводиться акция?*</p>

            <app-map (getEventLat)="getEventLat($event)"></app-map>

            <br>
            <div>
              <label for="actionDate">Когда будет проводится акция?*</label>
              <div matTooltip='Укажите дату*, время начала* и окончания акции (если уже знаете их)'
                   class="formwide-tooltip small-placeholder" [class.disabled]="showInterval">
                <mat-form-field class="go-flex pos-relative">

                  <input matInput class='formwide-tooltip' id="actionDate" type="text" formControlName="exactDate"
                         [matDatepicker]="picker" placeholder="Дата проведения акции" [min]="minDate"
                         [max]="maxDate" (dateInput)="addExactDate($event)">
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker disabled="false"></mat-datepicker>
                </mat-form-field>

                <div class="time-form go-flex" name="time-form">
                  <p class="padd-up-right">c</p>
                  <mat-form-field class="time-field">
                    <input matInput type="time" formControlName="startTime" (change)="addStartTime($event)">
                  </mat-form-field>
                  <p class="padd-up-right">до</p>
                  <mat-form-field class="time-field">
                    <input matInput type="time" formControlName="finishTime">
                  </mat-form-field>
                </div>
              </div>
            </div>

            <mat-checkbox (change)="customInterval()"> Я еще не знаю точную дату и время проведения акции
            </mat-checkbox>

            <div *ngIf='showInterval'>
              <br>
              <div matTooltip='Дату и время акции в дальнейшем можно будет уточнить, отредактировав
                                страницу акции. Все подписавшиеся на акцию волнтёры получат об этом
                                уведомление, так что все будут в курсе.'
                   class="formwide-tooltip">
                <label for="actionStartInterval">Укажите хотя бы примерный период,
                  в который планируете провести акцию*</label>
                <div class="go-flex">
                  <mat-form-field class='pos-relative'>
                    <input matInput id="actionStartInterval" [matDatepicker]="pickerStartInterval" type="text"
                           formControlName="eventStartInterval" placeholder="c" [min]="minDate" [max]="maxDate"
                           (dateInput)="minInterval($event)">
                    <mat-datepicker-toggle matSuffix [for]="pickerStartInterval"></mat-datepicker-toggle>
                    <mat-datepicker #pickerStartInterval></mat-datepicker>
                  </mat-form-field>
                  <mat-form-field class='pos-relative'>
                    <input matInput [matDatepicker]="pickerEndInterval" type="text"
                           formControlName="eventFinishInterval" placeholder="по" [min]="incrementedEventStartInterval"
                           (dateInput)="maxInterval($event)" [max]="maxDate">
                    <mat-datepicker-toggle matSuffix [for]="pickerEndInterval"></mat-datepicker-toggle>
                    <mat-datepicker #pickerEndInterval></mat-datepicker>
                  </mat-form-field>
                </div>
              </div>
            </div>

            <div class="block-text-right">
              <button mat-button matStepperNext type="submit"
                      [disabled]="!basicInfoFormGroup.valid || !eventLatitude || !dateValidation"
                      class="next-action">
                Далее
              </button>
            </div>
          </form>
        </mat-step>


        <mat-step [stepControl]="citizenFormGroup && companyFormGroup">

          <ng-template matStepLabel>Информация об организаторах</ng-template>
          <!--<app-register-tab></app-register-tab>-->
          <!--Tab Citize-Company-->
          <mat-tab-group class="demo-tab-group">
            <mat-tab label="Я - физическое лицо">
              <!--Citizen Form-->
              <!--<app-citizen></app-citizen>-->
              <form [formGroup]="citizenFormGroup" (ngSubmit)="addFormDataCitizen(citizenFormGroup.value)">
                <div class="demo-tab-content" [class.disabled]="isCompanyName">
                    <div>
                      <label for="citizenName">Как вас зовут?</label>
                      <div matTooltip='Волонтёрам важно знать, с кем они будут контактировать'
                           class="formwide-tooltip small-placeholder">
                        <mat-form-field>
                          <input matInput id="citizenName" placeholder="Имя и фамилия" formControlName="citizenName"
                                 required (change)="isCompanyFormDisable(citizenFormGroup.value)">
                        </mat-form-field>
                      </div>
                    </div>
                    <div>
                      <label for="citizenPhoto">Ваше фото (используйте форматы jpeg/jpg)</label>
                      <div matTooltip='Загрузите свое фото, чтобы при встрече волонтерам было проще вас узнать'
                           class="formwide-tooltip upload-photo go-flex" >
                        <input type="file" id="citizenPhoto" #citizenPhoto formControlName="citizenPhoto"
                               placeholder="Фото не выбрано" class="marg-top-6" (change)="setCitizenPhoto($event)">
                        <mat-icon *ngIf="userAction && userAction.citizenPhoto" aria-label="Example icon-button with a heart icon"
                                  (click)="removeCitizenPhoto()" class="marg-top-6">remove_circle_outline
                        </mat-icon>
                      </div>
                      <div id= "toolTipCitizen"></div>
                    </div>
                  <br>

                  <mat-card class="example-card">
                    <mat-card-header>
                      <div
                        matTooltip='Оставьте свои контактные данные, чтобы волонтеры могли связаться с вами. Например, +375-291234567'
                        class="formwide-tooltip">
                        <label for="citizenPhone">Как с вами связаться?</label>
                      </div>
                    </mat-card-header>
                    <mat-card-content>
                      <div class="go-flex-no-space">
                        <div matTooltip='Если с вами можно связаться по нескольким номерам, для надёжности лучше указать все.
                         При этом первый номер будет считаться основным, а последующие – дополнительными. Формат номера: +375-291234567'
                             class="formwide-tooltip">
                          <mat-form-field>
                            <span matPrefix>+375 - &nbsp;</span>
                            <input matInput id="citizenPhone" placeholder="Контактный номер" type="tel"
                                   formControlName="telNumberPrime" maxlength="9" required>
                          </mat-form-field>
                        </div>
                        <button mat-icon-button [class.vanish]="tels.length>1">
                          <mat-icon aria-label="Example icon-button with a heart icon"
                                    (click)="addTelField(citizenFormGroup.value)"
                                    [class.vanish]="tels.length>0 && tels[0].length > 1">add_circle_outline
                          </mat-icon>
                        </button>
                      </div>

                      <div *ngIf="tels[0] && tels[0].length > 1">
                        <div *ngFor="let tel of tels" class="go-flex-no-space">
                          <mat-form-field>
                            <span matPrefix>+375 - &nbsp;</span>
                            <input matInput maxlength="9" id="tel{{tels.length}}" placeholder="Контактный номер"
                                   type="tel"
                                   formControlName="telNumberAdd{{tels.length}}">
                          </mat-form-field>


                          <button mat-icon-button [class.vanish]="tels.length>1">
                            <mat-icon aria-label="Example icon-button with a heart icon"
                                      (click)="addTelField(citizenFormGroup.value)"
                                      [class.vanish]="tels.length > 1">add_circle_outline
                            </mat-icon>
                          </button>


                        </div>
                      </div>

                      <div class="go-flex-no-space">
                        <div matTooltip='Сюда будут приходить уведомления и напоминания по акции'
                             class="formwide-tooltip">
                          <mat-form-field>
                            <input matInput id="citizenPost" placeholder="Электронная почта" type="email"
                                   formControlName="usersEmail" required>
                          </mat-form-field>
                        </div>
                      </div>


                      <div class="go-flex-no-space">
                        <div matTooltip='Это может быть ваш личный сайт или блог, профиль ВКонтакте, Facebook или LinkedIn,
                         где о вас можно найти больше информации и, при необходимости, связаться'
                             class="formwide-tooltip">
                          <mat-form-field>
                            <input matInput id="citizenWeb" placeholder="Сайт или соц.сеть" type="text"
                                   formControlName="sitePrime">
                          </mat-form-field>
                        </div>
                        <button mat-icon-button [class.disabled]="sites.length>3">
                          <mat-icon aria-label="Example icon-button with a heart icon"
                                    [class.disabled]="sites.length>3"
                                    (click)="addSiteField(citizenFormGroup.value)">add_circle_outline
                          </mat-icon>
                        </button>
                      </div>

                      <div *ngIf="sites[0] && sites[0].length > 5">
                        <div *ngFor="let site of sites" class="go-flex-no-space">
                          <mat-form-field>
                            <input matInput id="site{{sites.length}}" placeholder="Сайт или соц.сеть" type="text"
                                   formControlName="siteAdd{{sites.length}}">
                          </mat-form-field>
                        </div>
                      </div>

                    </mat-card-content>
                  </mat-card>
                  <p>Что бы вы хотели добавить?</p>
                  <div matTooltip='Напишите чем занимаетесь, почему решили организовать акцию и т.д.'
                       class="formwide-tooltip">
                    <div>
                      <p>
                        <mat-form-field class="example-full-width">
                        <textarea matInput rows=3 formControlName="aboutEvent"
                                  placeholder="Напишите почему решили организовать акцию и т.д."></textarea>
                        </mat-form-field>
                      </p>
                    </div>
                  </div>
                </div>
                <div class="go-flex">
                  <button mat-button matStepperPrevious>Назад</button>
                  <button mat-button matStepperNext type="submit" [disabled]="!citizenFormGroup.valid"
                          class="next-action">Далее
                  </button>
                </div>
              </form>
            </mat-tab>

            <!--Company-->
            <mat-tab label="Я - представитель организации">
              <form [formGroup]="companyFormGroup" (ngSubmit)="addFormDataCompany(companyFormGroup.value)">
                <div class="demo-tab-content" [class.disabled]="isCitizenName">
                  <!--<app-company></app-company>-->
                  <div class="demo-tab-content">

                      <div>
                        <label for="companyName">Как называется ваша организация?</label>
                        <div matTooltip='Чтобы к вашей акции было больше доверия, лучше указать название организации'
                             class="formwide-tooltip small-placeholder">
                          <mat-form-field>
                            <input matInput id="companyName" placeholder="Название организации"
                                   formControlName="companyName" required
                                   (change)="isCitizenFormDisable(companyFormGroup.value)">
                          </mat-form-field>
                        </div>
                      </div>

                      <div>
                        <label for="companyPhoto">Ваш логотип (используйте форматы jpeg/jpg)</label>
                        <div matTooltip='Если у вас есть логотип, обязательно добавте его на страницу акции, чтобы вас
                                            было проще и быстрее узнать'
                             class="formwide-tooltip go-flex">
                          <input type="file" id="companyPhoto" #companyPhoto formControlName="companyLogo"
                                 placeholder="Фото не выбрано" class="marg-top-6" (change)="setCompanyPhoto($event)">
                          <mat-icon *ngIf="userAction && userAction.companyPhoto" aria-label="Example icon-button with a heart icon"
                                    (click)="removeCompanyPhoto()" class="marg-top-6">remove_circle_outline
                          </mat-icon>
                        </div>
                        <div id= "toolTipCompany"></div>
                      </div>
                    <br>

                    <mat-card class="example-card">
                      <mat-card-header>
                        <div matTooltip='Оставьте свои контактные данные, чтобы волонтеры могли с вами связаться'
                             class="formwide-tooltip">
                          <mat-card-title><label for="companyPhone">Как с вами связаться?</label></mat-card-title>
                        </div>
                      </mat-card-header>
                      <mat-card-content>
                        <div class="go-flex-no-space">
                          <div matTooltip='Если с вами можно связаться по нескольким номерам, для надёжности лучше указать все.
                           При этом первый номер будет считаться основным, а последующие – дополнительными. Формат номера: +375-291234567'
                               class="formwide-tooltip">
                            <mat-form-field>
                              <span matPrefix>+375 - &nbsp;</span>
                              <input matInput id="companyPhone" placeholder="Контактный номер" type="tel"
                                     formControlName="telNumberPrime" maxlength="9" required>
                            </mat-form-field>
                          </div>
                          <button mat-icon-button [class.vanish]="tels.length>1">
                            <mat-icon aria-label="Example icon-button with a heart icon"
                                      (click)="addTelField(companyFormGroup.value)"
                                      [class.vanish]="tels.length>0 && tels[0].length > 1">add_circle_outline
                            </mat-icon>
                          </button>
                        </div>

                        <div *ngIf="tels[0] && tels[0].length > 1">
                          <div *ngFor="let tel of tels" class="go-flex-no-space">
                            <mat-form-field>
                              <span matPrefix>+375 - &nbsp;</span>
                              <input matInput id="tel{{tels.length}}" placeholder="Контактный номер" type="tel"
                                     formControlName="telNumberAdd{{tels.length}}" maxlength="9">
                            </mat-form-field>
                            <button mat-icon-button [class.vanish]="tels.length>1">
                              <mat-icon aria-label="Example icon-button with a heart icon"
                                        (click)="addTelField(companyFormGroup.value)"
                                        [class.vanish]="tels.length > 1">add_circle_outline
                              </mat-icon>
                            </button>
                          </div>
                        </div>

                        <div class="go-flex-no-space">
                          <div matTooltip='Сюда будут приходить уведомления и напоминания по акции'
                               class="formwide-tooltip">
                            <mat-form-field>
                              <input matInput id="companyPost" placeholder="Электронная почта"
                                     formControlName="usersEmail" type="email" required>
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="go-flex-no-space">
                          <div matTooltip='Это может быть ваш сайт или блог вашей компании, а также ее страницы в LinkedIn,
                                            ВКонтакте или Facebook, где о вашей акции можно найти больше информации и, при необходимости, связаться'
                               class="formwide-tooltip">
                            <mat-form-field>
                              <input matInput id="companyWeb" placeholder="Сайт или соц.сеть" type="text"
                                     formControlName="sitePrime">
                            </mat-form-field>
                          </div>
                          <button mat-icon-button [class.disabled]="sites.length>3">
                            <mat-icon aria-label="Example icon-button with a heart icon"
                                      [class.disabled]="sites.length>3"
                                      (click)="addSiteField(companyFormGroup.value)">add_circle_outline
                            </mat-icon>
                          </button>
                        </div>

                        <div *ngIf="sites[0] && sites[0].length > 5">
                          <div *ngFor="let site of sites" class="go-flex-no-space">
                            <mat-form-field>
                              <input matInput id="companySite{{sites.length}}" placeholder="Сайт или соц.сеть"
                                     type="text"
                                     formControlName="siteAdd{{sites.length}}">
                            </mat-form-field>
                          </div>
                        </div>

                        <div class="go-flex-no-space">
                          <div matTooltip='Укажите имя и фамилию того, с кем будут связываться волонтёры. Чтобы к вашей акции было больше доверия
                                             лучшеуказывать свои настоящие имя и фамилию'
                               class="formwide-tooltip">
                            <mat-form-field>
                              <input matInput id="companyContact" placeholder="Контактное лицо"
                                     formControlName="personToContact" type="text">
                            </mat-form-field>
                          </div>
                        </div>
                      </mat-card-content>
                    </mat-card>
                    <p>Что бы вы хотели добавить?</p>
                    <div matTooltip='Напишите чем занимается ваша организация, почему решили организовать акцию и т.д.'
                         class="formwide-tooltip">
                      <div>
                        <p>
                          <mat-form-field class="example-full-width">
                          <textarea matInput rows=3
                                    placeholder="Напишите почему решили организовать акцию и т.д."></textarea>
                          </mat-form-field>
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="go-flex">
                  <button mat-button matStepperPrevious>Назад</button>
                  <button mat-button matStepperNext type="submit" [disabled]="!companyFormGroup.valid"
                          class="next-action">Далее
                  </button>
                </div>
              </form>

            </mat-tab>
          </mat-tab-group>
        </mat-step>


        <mat-step [stepControl]="eventDetailFormGroup">
          <form [formGroup]="eventDetailFormGroup" (ngSubmit)="addFormDataDetails(eventDetailFormGroup.value)">
            <ng-template matStepLabel>Подробности акции</ng-template>
            <section>
              <label for="placePicture" class="subheading-1">Фото места проведения акции</label>
              <div matTooltip='Если у вас есть хорошее фото места проведения акции, загрузите его,
                          пожалуйста, чтобы дополнительно вдохновить волонтёров. Минимальный
                          размер: X на Y пикселей (Z мегабайт). Максимальный размер: K на L
                          пикселей (M мегабайт).'
                   class="formwide-tooltip">

                <div class="box-upload-picture block-text-center">
                  <!--<p class="blue"></p>-->
                  <img *ngIf="placePict" src="{{placePict}}">
                </div>
                <input type="file" formControlName="placePicture" id="placePicture">
              </div>
              <div matTooltip='Местом сбора может быть остановка транспорта,
                            авто- или ж/д вокзал, местная достопримечательность и т. д.'
                   class="formwide-tooltip">
                <p class="mat-body-1">Где будет место сбора волонтеров?*</p>
              </div>
            </section>


            <section>
              <app-map (getMeetingLat)="getMeetingLat($event)"></app-map>
            </section>
            <br>


            <section>
              <label for="getToPlace">Как можно добраться до места сбора?</label>
              <div matTooltip='Опишите наиболее подходящие виды транспорта (автобус, маршрутка и т. д.) и
                            маршруты по ключевым направлениям движения. Это поможет волонтёрам решиться
                             на участие и добраться на акцию вовремя.'
                   class="formwide-tooltip">
                <p>
                  <mat-form-field class="example-full-width">
              <textarea id="getToPlace" formControlName="getToPlace" matInput rows=3 placeholder="Опишите виды транспорта,
              название остановки"></textarea>
                  </mat-form-field>
                </p>
              </div>
            </section>

            <section>
              <label for="whatToDo">Что конкретно нужно будет делать?</label>
              <div matTooltip='Опишите конкретные действия участников и примерный процесс.
                          Например: «Нужно будет находить мусор, оставленный
                          на берегу реки, собирать его в пакеты и грузить их на транспорт»."'
                   class="formwide-tooltip">
                <p>
                  <mat-form-field class="example-full-width">
                    <textarea id="whatToDo" matInput rows=3 formControlName="whatToDo"
                              placeholder="Например: «Нужно будет собирать мусор»"></textarea>
                  </mat-form-field>
                </p>
              </div>
            </section>

            <section>
              <label for="equipment">Что нужно взять с собой? Что выдадут на месте?</label>
              <div matTooltip='Участникам будут выданы пакеты для мусора и перчатки. С собой
                           нужно взять еду и воду для перекуса'
                   class="formwide-tooltip">
                <p>
                  <mat-form-field class="example-full-width">
                    <textarea id="equipment" matInput rows=3 formControlName="equipment"
                              placeholder="Например: «Будут выданы пакеты для мусора»"></textarea>
                  </mat-form-field>
                </p>
              </div>
            </section>

            <section>
              <p>Минимальное количество участников: <span *ngIf="userAction && userAction.minPeople !== undefined"
                                                          class="circle">{{userAction.minPeople}}</span></p>
              <div class="example-section">
                <mat-slider
                  class="example-margin go-block mat-slider-horizontal blue"
                  [max]="max"
                  [min]="min"
                  [step]="step"
                  [value]="minValue"
                  [thumb-label]="minThumbLabel" (change)="getMinPeople($event)" [class.red]='minThumbLabel == false'>
                </mat-slider>
              </div>
            </section>

            <section>
              <p>Максимальное количество участников: <span *ngIf="userAction && userAction.maxPeople !== undefined"
                                                           class="circle">{{userAction.maxPeople}}</span></p>
              <div class="example-section">
                <mat-slider
                  class="example-margin go-block mat-slider-horizontal blue"
                  [max]="max"
                  [min]="min"
                  [step]="step"
                  [value]="maxValue"
                  [thumb-label]="maxThumbLabel" (change)="getMaxPeople($event)" [class.red]='maxThumbLabel == false'>
                </mat-slider>
              </div>
            </section>

            <section>
              <label for="smthElse">Дополнительная информация</label>
              <div matTooltip='Если есть еще что-то важное, что вам не удалось указать в
                          предыдущих полях, напишите это здесь'
                   class="formwide-tooltip">
                <p>
                  <mat-form-field class="example-full-width">
                    <textarea id="smthElse" matInput rows=3 formControlName="smthElse"
                              placeholder="Ещё что-то важное, что не указали"></textarea>
                  </mat-form-field>
                </p>
              </div>
            </section>

            <div class="go-flex">
              <button mat-button matStepperPrevious>Назад</button>
              <button mat-button type="submit" [disabled]="!meetingLatitude">Предпросмотр</button>
            </div>
          </form>
        </mat-step>
      </mat-horizontal-stepper>
    </mat-card-content>
  </mat-card>
</div>

<div *ngIf="preview">
  <br>
  <mat-card>
    <mat-card-header class="block-text-center">
      <h4 class="mat-display-1">Предпросмотр мероприятия</h4>
    </mat-card-header>
    <mat-card-content>
      <h4 class="mat-subheading-1">Название мероприятия: <span>{{userAction.eventName}}</span></h4>
      <h4 class="mat-subheading-1">Место проведения мероприятия: <span>{{userAction.addressOfEvent}}</span></h4>
      <app-map [placeOfEvent]="eventCoordinates"></app-map>
      <h4 *ngIf="userAction.exactDate" class="mat-subheading-1">Дата проведения мероприятия: <span>{{userAction.exactDate | date:'fullDate'}}</span>
      </h4>
      <h4 *ngIf="userAction.startTime" class="mat-subheading-1">Время начала
        мероприятия:<span>{{userAction.startTime}}</span></h4>
      <h4 *ngIf="userAction.finishTime" class="mat-subheading-1">Время окончания мероприятия:<span>{{userAction.finishTime}}</span>
      </h4>
      <h4 *ngIf="userAction.eventStartInterval" class="mat-subheading-1">Дата начала проведения акции:
        {{userAction.eventStartInterval | date:'fullDate'}}</h4>
      <h4 *ngIf="userAction.eventFinishInterval" class="mat-subheading-1">Дата окончания
        акции:{{userAction.eventFinishInterval | date:'fullDate'}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.citizenName">Организатор: {{userAction.citizenName}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.citizenPhoto">Фото организатора:
        {{userAction.citizenPhoto}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.companyName">
        Компания-организатор{{userAction.companyName}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.companyLogo">Логотип компании{{userAction.companyLogo}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.telNumberPrime">Основной номер
        телефона:{{userAction.telNumberPrime}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.telNumberAdd1">Дополнительный номер
        телефона:{{userAction.telNumberAdd1}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.telNumberAdd2">Дополнительный номер
        телефона:{{userAction.telNumberAdd2}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.usersEmail">Электронная почта:{{userAction.usersEmail}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.sitePrime">Сайт/соц.сеть:{{userAction.sitePrime}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.siteAdd1">Сайт/соц.сеть:{{userAction.siteAdd1}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.siteAdd2">Сайт/соц.сеть:{{userAction.siteAdd2}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.siteAdd3">Сайт/соц.сеть:{{userAction.siteAdd3}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.siteAdd4">Сайт/соц.сеть:{{userAction.siteAdd4}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.aboutEvent">О событии:{{userAction.aboutEvent}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.personToContact">С кем
        связываться:{{userAction.personToContact}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.placePicture">Фото местности:{{userAction.placePicture}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.meetingPlace">Место встречи: {{userAction.meetingPlace}}</h4>
      <br>
      <app-map [placeOfMeeting]="meetingCoordinates"></app-map>
      <br>
      <h4 class="mat-subheading-1 " *ngIf="userAction.getToPlace">Как добраться: {{userAction.getToPlace}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.whatToDo">Что будем делать: {{userAction.whatToDo}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.equipment">Что взять с собой: {{userAction.equipment}}</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.minPeople">Минимальное количество: {{userAction. minPeople}}
        чел.</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.maxPeople">Максимальное количество: {{userAction.maxPeople}}
        чел.</h4>
      <h4 class="mat-subheading-1 " *ngIf="userAction.smthElse">Дополнительная
        информация:{{userAction.smthElse}}</h4>
    </mat-card-content>
  </mat-card>
  <div class="go-flex">
    <button mat-button (click)="correction()">< Редактировать</button>
    <button mat-button>Опубликовать ></button>
  </div>
</div>


<div *ngIf="correct">
  <mat-card>
    <mat-card-content>
      <mat-card>
        <mat-card-header>
          <h3 class="mat-title center bold">Основная информация</h3>
        </mat-card-header>
        <mat-card-content>
          <h6 class="mat-subheading-1 ">
            Название мероприятия:
            <mat-form-field><input matInput [(ngModel)]="userAction.eventName" [formControl]="eventName" required>
            <mat-error *ngIf="eventName.invalid">{{getEmptyErrorMessage()}}</mat-error>
            </mat-form-field></h6>


          <h6 class="mat-subheading-1">Мероприятие будет проходить:
            <div class="d-inline-block">{{userAction.addressOfEvent}}</div>
          </h6>

          <mat-checkbox class="example-margin mat-body-1" [(ngModel)]="changeEventPlace"> Изменить место проведения
            мероприятия
          </mat-checkbox>
          <br>
          <app-map *ngIf="!changeEventPlace" [placeOfEvent]="eventCoordinates"></app-map>
          <app-map *ngIf="changeEventPlace" (getEventLat)="getEventLat($event)"></app-map>
          <br>


          <div *ngIf="userAction.exactDate" class="go-flex-no-space">
            <div class="go-flex-no-space">
              <h6 class="mat-subheading-1 ">Дата проведения:
                <mat-form-field class="go-flex pos-relative">
                  <input matInput id="actionDatePreview" type="text" [(ngModel)]="userAction.exactDate"
                         [matDatepicker]="picker"  [min]="minDate" [max]="maxDate" name="exactDate" [formControl]="exactDate">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker disabled="false"></mat-datepicker>
                </mat-form-field>
              </h6>
            </div>

            <div class="go-flex-no-space">
              <h4 class="padd-left-right">c: </h4>
              <mat-form-field class="time-field">
                <input matInput type="time" [(ngModel)]="userAction.startTime">
              </mat-form-field>
              <h4 class="padd-left-right">до: </h4>
              <mat-form-field class="time-field">
                <input matInput type="time" [(ngModel)]="userAction.finishTime">
              </mat-form-field>
            </div>
          </div>


          <div class="go-flex-no-space">
            <div *ngIf="userAction.eventStartInterval" class="go-flex-no-space">
              <h6 class="mat-body-2">Дата начала проведения акции:
                <mat-form-field class="go-flex pos-relative">
                  <input matInput id="changeStartEventDatePreview" [(ngModel)]="userAction.eventStartInterval"
                         [matDatepicker]="picker" [min]="minDate" [max]="maxDate" [formControl]="startInterval">
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker disabled="false"></mat-datepicker>
                </mat-form-field>
              </h6>
            </div>
            <div *ngIf="userAction.eventFinishInterval" class="go-flex-no-space">
              <h6 class="mat-body-2">&nbsp; Дата окончания проведения акции:
                <mat-form-field class="go-flex pos-relative">
                  <input matInput id="changeFinishEventDatePreview" [(ngModel)]="userAction.eventFinishInterval"
                         [matDatepicker]="picker" [min]="minDate" [max]="maxDate" [formControl]="finishInterval">
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker disabled="false"></mat-datepicker>
                </mat-form-field>
              </h6>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
      <br>
      <mat-card>
        <mat-card-header>
          <h3 class="mat-title center bold">Информация об организаторах</h3>
        </mat-card-header>
        <mat-card-content>

          <h6 *ngIf="isCitizenName" class="mat-subheading-1 ">Организатор:
            <mat-form-field>
            <input matInput [(ngModel)]="userAction.citizenName" [formControl]="citizenName" required>
              <mat-error *ngIf="citizenName.invalid">{{getCitizenErrorMessage()}}</mat-error>
          </mat-form-field>
          </h6>

          <h6 *ngIf="userAction.citizenPhoto" class="mat-subheading-1 ">Фото организатора:
            <div class="correct"><input matInput [(ngModel)]="userAction.citizenPhoto"></div>
          </h6>

          <h6 *ngIf="isCompanyName" class="mat-subheading-1 ">Организатор:
            <mat-form-field>
              <input matInput [(ngModel)]="userAction.companyName" [formControl]="companyName" required>
              <mat-error *ngIf="companyName.invalid">{{getCompanyErrorMessage()}}</mat-error>
            </mat-form-field>
          </h6>


          <h6 *ngIf="userAction.companyLogo" class="mat-subheading-1 ">Логотип компании:
            <div class="correct"><input matInput [(ngModel)]="userAction.companyLogo"></div>
          </h6>

          <mat-card>
            <mat-card-content>
              <h6 class="mat-subheading-1 ">Основной номер:
                <mat-form-field>
                <input matInput [(ngModel)]="userAction.telNumberPrime" required [formControl]="telNumberPrime">
                <mat-error *ngIf="telNumberPrime.invalid">{{getTelErrorMessage()}}</mat-error>
                </mat-form-field>
              </h6>

              <h6 *ngIf="userAction.telNumberAdd1" class="mat-subheading-1 ">Дополнительный номер:
                <div class="correct"><input matInput [(ngModel)]="userAction.telNumberAdd1"></div>
              </h6>

              <h6 *ngIf="userAction.telNumberAdd2" class="mat-subheading-1 ">Дополнительный номер:
                <div class="correct"><input matInput [(ngModel)]="userAction.telNumberAdd2"></div>
              </h6>

              <h6 class="mat-subheading-1">Электронная почта:
                <mat-form-field>
                <input matInput [(ngModel)]="userAction.usersEmail" [formControl]="email" required>
                  <mat-error *ngIf="email.invalid">{{getEmailErrorMessage()}}</mat-error>
                </mat-form-field>
              </h6>

              <h6 *ngIf="userAction.sitePrime" class="mat-subheading-1 ">Сайт / соц.сеть:
                <div class="correct"><input matInput [(ngModel)]="userAction.sitePrime"></div>
              </h6>

              <h6 *ngIf="userAction.siteAdd1" class="mat-subheading-1 ">Сайт / соц.сеть:
                <div class="correct"><input matInput [(ngModel)]="userAction.siteAdd1"></div>
              </h6>

              <h6 *ngIf="userAction.siteAdd2" class="mat-subheading-1 ">Сайт / соц.сеть:
                <div class="correct"><input matInput [(ngModel)]="userAction.siteAdd2"></div>
              </h6>

              <h6 *ngIf="userAction.siteAdd3" class="mat-subheading-1 ">Сайт / соц.сеть:
                <div class="correct"><input matInput [(ngModel)]="userAction.siteAdd3"></div>
              </h6>

              <h6 *ngIf="userAction.siteAdd4" class="mat-subheading-1 ">Сайт / соц.сеть:
                <div class="correct"><input matInput [(ngModel)]="userAction.siteAdd4"></div>
              </h6>
            </mat-card-content>
          </mat-card>
          <h6 *ngIf="userAction.aboutEvent" class="mat-subheading-1 ">Что бы вы хотели добавить:
            <div class="correct"><input matInput [(ngModel)]="userAction.aboutEvent"></div>
          </h6>

          <h6 *ngIf="userAction.personToContact" class="mat-subheading-1 ">С кем связываться:
            <div class="correct"><input matInput [(ngModel)]="userAction.personToContact"></div>
          </h6>
        </mat-card-content>
      </mat-card>
      <br>
      <mat-card>
        <mat-card-header>
          <h3 class="mat-title center bold">Подробности акции</h3>
        </mat-card-header>
        <mat-card-content>
          <h6 *ngIf="userAction.placePicture" class="mat-subheading-1 ">Фото местности:
            <div class="correct"><input type="file" formControlName="placePicture" id="placePicture"
                                        value="{{userAction.placePicture}}"></div>
          </h6>


          <h6 class="mat-subheading-1 " *ngIf="userAction.meetingPlace">Место сбора волонтеров:
            {{userAction.meetingPlace}}</h6>

          <mat-checkbox class="example-margin mat-body-1" [(ngModel)]="changeMeetingPlace"> Изменить место встречи
          </mat-checkbox>
          <br>
          <app-map *ngIf="!changeMeetingPlace" [placeOfMeeting]="meetingCoordinates"></app-map>
          <app-map *ngIf="changeMeetingPlace" (getMeetingLat)="getMeetingLat($event)"></app-map>
          <br>

          <div *ngIf="userAction.getToPlace">
            <h6 class="mat-subheading-1 ">Как можно добраться до места сбора?</h6>
            <div class="correct">
              <textarea matInput [(ngModel)]="userAction.getToPlace"></textarea>
            </div>
          </div>

          <div *ngIf="userAction.whatToDo">
          <h6 class="mat-subheading-1">Что конкретно нужно будет делать?</h6>
          <div class="correct">
            <textarea matInput [(ngModel)]="userAction.whatToDo"></textarea>
          </div>
          </div>
          <div *ngIf="userAction.equipment">
            <h6 class="mat-subheading-1 ">Что нужно взять с собой? Что выдадут на месте?</h6>
            <div class="correct">
              <textarea matInput [(ngModel)]="userAction.equipment"></textarea>
            </div>
          </div>


          <div *ngIf="userAction.minPeople">
            <p>Минимальное количество участников: <span *ngIf="userAction && userAction.minPeople !== undefined"
                                                        class="circle">{{userAction.minPeople}}</span></p>
            <div class="example-section">
              <mat-slider
                class="example-margin go-block mat-slider-horizontal blue"
                [max]="max"
                [min]="min"
                [step]="step"
                [value]="minValue"
                [thumb-label]="minThumbLabel" (change)="getMinPeople($event)" [class.red]='minThumbLabel == false'>
              </mat-slider>
            </div>
          </div>


          <div *ngIf="userAction.maxPeople">
            <p>Максимальное количество участников: <span *ngIf="userAction && userAction.maxPeople !== undefined"
                                                         class="circle">{{userAction.maxPeople}}</span></p>
            <div class="example-section">
              <mat-slider
                class="example-margin go-block mat-slider-horizontal blue"
                [max]="max"
                [min]="min"
                [step]="step"
                [value]="maxValue"
                [thumb-label]="maxThumbLabel" (change)="getMaxPeople($event)" [class.red]='maxThumbLabel == false'>
              </mat-slider>
            </div>
          </div>

          <div *ngIf="userAction.smthElse">
            <h6 class="mat-subheading-1 ">Дополнительная информация</h6>
            <div class="correct">
              <textarea matInput [(ngModel)]="userAction.smthElse"></textarea>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-card-content>
  </mat-card>
  <div class="block-text-right">
    <button mat-button (click)="goPreview()" [disabled]="!eventName.valid || !citizenName.valid && !companyName.valid || !telNumberPrime.valid || !email.valid">Предпросмотр</button>
  </div>
</div>


